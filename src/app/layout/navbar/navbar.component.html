<header class="top-0 fixed left-0 w-full z-10 bg-white p-4 border-b" role="banner">
  <div class="container mx-auto max-w-[1230px]">
    <nav class="flex items-center justify-between" role="navigation" aria-label="Главная навигация">
      <a href="/" aria-label="Перейти на главную страницу ICD School">
        <div class="flex cursor-pointer items-center gap-2">
          <img class="w-[75px]" src="../../../assets/img/logo21.jpg" alt="Логотип ICD School - Intellectual Capital Development" />
          <div class="leading-none font-serif uppercase">
            <p>Intellectual</p>
            <p>Capital</p>
            <p>Development</p>
          </div>
        </div>
      </a>
      <div class="hidden md:flex gap-1" role="menubar">
        <a class="menu_nav" routerLink="/" role="menuitem" aria-label="Главная страница">{{ "navbar.main" | translate }}</a>
        <a class="menu_nav" routerLink="/courses" role="menuitem" aria-label="Курсы ICD School">{{ "navbar.course" | translate }}</a>
        <a class="menu_nav" routerLink="/mentors" role="menuitem" aria-label="Команда преподавателей">{{ "navbar.team" | translate }}</a>
        <a class="menu_nav" routerLink="/aboutus" role="menuitem" aria-label="О нас - история ICD School">{{ "navbar.us" | translate }}</a>
        <a class="menu_nav" routerLink="/faq" role="menuitem" aria-label="Часто задаваемые вопросы">{{ "navbar.faq" | translate }}</a>
      </div>
      <div class="flex items-center gap-2">
        <div
          (click)="switchLangToggle()"
          (keydown)="onLangKeydown($event)"
          class="cursor-pointer hover:bg-gray-100 p-2 rounded-md flex transition-all duration-200"
          role="button"
          tabindex="0"
          aria-label="Сменить язык"
          [attr.aria-pressed]="langSerivce.currentLang === 'ru'"
        >
          <span class="mr-2" aria-live="polite">{{ langButtonLabel }}</span
          ><img src="../../../assets/svg/global-fill.svg" width="24" alt="Иконка глобуса" />
        </div>
        <button
          (click)="toggleMenu()"
          (keydown)="onMenuKeydown($event)"
          class="inline-flex items-center justify-center rounded-md text-sm font-medium hover:bg-gray-100 transition-all duration-200 h-10 w-10 outline-none"
          type="button"
          aria-label="Открыть меню навигации"
          [attr.aria-expanded]="menuOpen"
          aria-controls="mobile-menu"
          aria-haspopup="true"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-menu w-5 h-5"
            aria-hidden="true"
          >
            <line x1="4" x2="20" y1="12" y2="12"></line>
            <line x1="4" x2="20" y1="6" y2="6"></line>
            <line x1="4" x2="20" y1="18" y2="18"></line>
          </svg>
        </button>
        @if (menuOpen) {
        <div
          id="mobile-menu"
          class="absolute right-0 top-16 bg-white shadow-lg rounded-lg p-2 w-48"
          role="menu"
          aria-label="Мобильное меню"
        >
          <a routerLink="/" class="menu_a" role="menuitem" aria-label="Главная страница">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-user mr-2 h-4 w-4"
              aria-hidden="true"
            >
              <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            {{ "navbar.main" | translate }}
          </a>
          <a routerLink="/courses" class="menu_a" role="menuitem" aria-label="Курсы ICD School">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-layout-dashboard mr-2 h-4 w-4"
              aria-hidden="true"
            >
              <rect width="7" height="9" x="3" y="3" rx="1"></rect>
              <rect width="7" height="5" x="14" y="3" rx="1"></rect>
              <rect width="7" height="9" x="14" y="12" rx="1"></rect>
              <rect width="7" height="5" x="3" y="16" rx="1"></rect>
            </svg>
            {{ "navbar.course" | translate }}</a
          >
          <a routerLink="/mentors" class="menu_a" role="menuitem" aria-label="Команда преподавателей">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-users mr-2 h-4 w-4"
              aria-hidden="true"
            >
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            {{ "navbar.team" | translate }}</a
          >
          <div class="relative group">
            <a
              routerLink="/aboutus"
              class="flex items-center text-sm font-medium transition-all duration-200 px-[14px] py-2 hover:bg-gray-100"
              role="menuitem"
              aria-label="О нас - история ICD School"
            >
              <svg
                class="mr-2"
                width="19"
                height="19"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="rgba(0,0,0,1)"
                aria-hidden="true"
              >
                <path
                  d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM13 13.3551V14H11V12.5C11 11.9477 11.4477 11.5 12 11.5C12.8284 11.5 13.5 10.8284 13.5 10C13.5 9.17157 12.8284 8.5 12 8.5C11.2723 8.5 10.6656 9.01823 10.5288 9.70577L8.56731 9.31346C8.88637 7.70919 10.302 6.5 12 6.5C13.933 6.5 15.5 8.067 15.5 10C15.5 11.5855 14.4457 12.9248 13 13.3551Z"
                ></path>
              </svg>
              {{ "navbar.us" | translate }}
            </a>
          </div>
          <div class="relative group">
            <a
              routerLink="/faq"
              class="flex items-center text-sm font-medium transition-all duration-200 px-[14px] py-2 hover:bg-gray-100"
              role="menuitem"
              aria-label="Часто задаваемые вопросы"
            >
              <svg
                class="mr-2"
                width="19"
                height="19"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                aria-hidden="true"
              >
                <path
                  d="M5.23379 7.72989C6.65303 5.48625 9.15342 4 12.0002 4C14.847 4 17.3474 5.48625 18.7667 7.72989L20.4569 6.66071C18.6865 3.86199 15.5612 2 12.0002 2C8.43928 2 5.31393 3.86199 3.54356 6.66071L5.23379 7.72989ZM12.0002 20C9.15342 20 6.65303 18.5138 5.23379 16.2701L3.54356 17.3393C5.31393 20.138 8.43928 22 12.0002 22C15.5612 22 18.6865 20.138 20.4569 17.3393L18.7667 16.2701C17.3474 18.5138 14.847 20 12.0002 20ZM12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12ZM12 13C14.2091 13 16 14.7909 16 17H8C8 14.7909 9.79086 13 12 13ZM6 12C6 13.6569 4.65685 15 3 15C1.34315 15 0 13.6569 0 12C0 10.3431 1.34315 9 3 9C4.65685 9 6 10.3431 6 12ZM21 15C22.6569 15 24 13.6569 24 12C24 10.3431 22.6569 9 21 9C19.3431 9 18 10.3431 18 12C18 13.6569 19.3431 15 21 15Z"
                ></path>
              </svg>
              {{ "navbar.faq" | translate }}            </a>
          </div>
          <a
            href="https://wa.me/992115558555"
            class="menu_a"
            role="menuitem"
            aria-label="Поддержка через WhatsApp"
            (click)="isLanguageMenuOpen = !isLanguageMenuOpen"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-life-buoy mr-2 h-4 w-4"
              aria-hidden="true"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <path d="m4.93 4.93 4.24 4.24"></path>
              <path d="m14.83 9.17 4.24-4.24"></path>
              <path d="m14.83 14.83 4.24 4.24"></path>
              <path d="m9.17 14.83-4.24 4.24"></path>
              <circle cx="12" cy="12" r="4"></circle>
            </svg>
            {{ "navbar.supp" | translate }}</a
          >
        </div>
        }
      </div>
    </nav>
  </div>
</header>
